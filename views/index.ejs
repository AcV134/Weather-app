<%- include('partial/header') %>

    <h1>Welcome to My Weather App</h1>
    <p>Here you can check the weather for your location.</p>
    <% if (locals.result) { %>
        <p>The temp <%=result.current.temperature_2m%> but feels like <%=result.current.apparent_temperature%>. The
                    temperature is degrees Celsius. the weather code is <%=result.current.weather_code%>
        </p>
        <p>the next few days temperature and code is </p>
        <div class="daily-container">
            <% for( let i=0; i< result.daily.time.length; i++) {%>
                <p class="dailyClick">temp= <%=result.daily.time[i]%> code= <%=result.daily.weather_code[i]%>
                </p>
                <%}%>
        </div>
        <div class="hour-container">
            <div class="hour">
                <p>time</p>
                <% for( let i=0; i< 23; i++) {%>
                    <div class="hour-minute">
                        <p>
                            <%=result.hourly.time[i]%>
                        </p>
                        <p>
                            <%=result.hourly.temperature_2m[i]%>
                        </p>
                        <p>
                            <%=result.hourly.apparent_temperature[i]%>
                        </p>
                        <p>
                            <%=result.hourly.weather_code[i]%>
                        </p>
                    </div>
                    <%}%>

            </div>

            <div class="hour">
                <p>time</p>
                <% for( let i=24; i< 47; i++) {%>
                    <div class="hour-minute">
                        <p>
                            <%=result.hourly.time[i]%>
                        </p>
                        <p>
                            <%=result.hourly.temperature_2m[i]%>
                        </p>
                        <p>
                            <%=result.hourly.apparent_temperature[i]%>
                        </p>
                        <p>
                            <%=result.hourly.weather_code[i]%>
                        </p>
                    </div>
                    <%}%>

            </div>

            <div class="hour">
                <p>time</p>
                <% for( let i=48; i< 71; i++) {%>
                    <div class="hour-minute">
                        <p>
                            <%=result.hourly.time[i]%>
                        </p>
                        <p>
                            <%=result.hourly.temperature_2m[i]%>
                        </p>
                        <p>
                            <%=result.hourly.apparent_temperature[i]%>
                        </p>
                        <p>
                            <%=result.hourly.weather_code[i]%>
                        </p>
                    </div>
                    <%}%>

            </div>

            <div class="hour">
                <p>time</p>
                <% for( let i=72; i< 95; i++) {%>
                    <div class="hour-minute">
                        <p>
                            <%=result.hourly.time[i]%>
                        </p>
                        <p>
                            <%=result.hourly.temperature_2m[i]%>
                        </p>
                        <p>
                            <%=result.hourly.apparent_temperature[i]%>
                        </p>
                        <p>
                            <%=result.hourly.weather_code[i]%>
                        </p>
                    </div>
                    <%}%>

            </div>

            <div class="hour">
                <p>time</p>
                <% for( let i=96; i< 119; i++) {%>
                    <div class="hour-minute">
                        <p>
                            <%=result.hourly.time[i]%>
                        </p>
                        <p>
                            <%=result.hourly.temperature_2m[i]%>
                        </p>
                        <p>
                            <%=result.hourly.apparent_temperature[i]%>
                        </p>
                        <p>
                            <%=result.hourly.weather_code[i]%>
                        </p>
                    </div>
                    <%}%>

            </div>

            <div class="hour">
                <p>time</p>
                <% for( let i=120; i< 143; i++) {%>
                    <div class="hour-minute">
                        <p>
                            <%=result.hourly.time[i]%>
                        </p>
                        <p>
                            <%=result.hourly.temperature_2m[i]%>
                        </p>
                        <p>
                            <%=result.hourly.apparent_temperature[i]%>
                        </p>
                        <p>
                            <%=result.hourly.weather_code[i]%>
                        </p>
                    </div>
                    <%}%>

            </div>

            <div class="hour">
                <p>time</p>
                <% for( let i=144; i< 167; i++) {%>
                    <div class="hour-minute">
                        <p>
                            <%=result.hourly.time[i]%>
                        </p>
                        <p>
                            <%=result.hourly.temperature_2m[i]%>
                        </p>
                        <p>
                            <%=result.hourly.apparent_temperature[i]%>
                        </p>
                        <p>
                            <%=result.hourly.weather_code[i]%>
                        </p>
                    </div>
                    <%}%>

            </div>

        </div>

        <% }else{ %>
            <div class="total-container">
                <form id="form" method="post" action="/search">
                    <div class="search-bar normal">
                        <div class="search">
                            <input type="text" class="location" name="location" placeholder="Enter your location">
                            <button type="submit">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
                                    <path
                                        d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z" />
                                </svg>
                            </button>
                        </div>
                        <div class="options">
                        </div>
                    </div>
                    <input type="hidden" class="latitude" name="latitude">
                    <input type="hidden" class="longitude" name="longitude">
                </form>
            </div>

            <% } %>

                <div id="weather-info">
                    <!-- Weather information will be displayed here -->
                </div>

                <script src="src/script.js"></script>
</body>

</html>